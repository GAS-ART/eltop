function f(t){const e=document.getElementById(t),s=document.getElementById("body"),n=e.querySelector(".close-popup"),u=e.querySelector(".popup__button"),m=e.querySelector(".popup__send-load"),c=e.querySelector(".preview-file")||!1;e.classList.add("open"),s.classList.add("lock"),n.addEventListener("click",function(o){l(e),o.preventDefault()}),u.addEventListener("click",function(){l(e)});function l(o){o.classList.remove("open"),s.classList.remove("lock"),e.classList.remove("sent"),c&&(c.innerHTML="")}e.addEventListener("mousedown",function(o){!o.target.closest(".popup__body")&&!m.classList.contains("active")&&l(e)})}const h=document.querySelectorAll(".link-on-popup");h.forEach(t=>{t.addEventListener("click",e=>{f(e.target.dataset.popupId)})});const y=document.querySelectorAll(".language-btn");y.forEach(t=>{t.addEventListener("click",function(e){window.matchMedia("(pointer: coarse)").matches&&(t.classList.contains("active")||e.preventDefault(),t.classList.toggle("active"))})});const i=document.getElementById("mainForm");if(i){const t=document.querySelector('input[name="_token"]').value,e={name:['Не заполнено поле "ВАШЕ ИМЯ"',`Не заповнено поле "ВАШЕ ІМ'Я"`,'Поле "ИМЯ" должно иметь 2 или больше символов',`Поле "ІМ'Я" повинно мати 2 або більше символів`,'Поле "ИМЯ" должно иметь не больше 80 символов',`Поле "ІМ'Я" повинно мати не більше 80 символів`,'Поле "ИМЯ" не может содержать цифры',`Поле "ІМ'Я" не може містити цифри`],phone:["Не верный формат номера телефона","Невірний формат номеру телефона",'Не заполнено поле "Номер телефона"','Не заповнено поле "Номер телефону"'],text:['Вы ввели слишком много символов в поле "Сообщение"','Ви ввели занадто багато символів у полі "Повідомлення"']},s=i.querySelector(".error-name"),n=i.querySelector(".error-phone");i.addEventListener("submit",async u=>{var c,l,o,E,S,b;u.preventDefault();const m=new FormData(i);try{const a=await fetch("https://eltop.artgas.pro/send-main-form",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":t},method:"post",body:m,credentials:"same-origin"});if(a.ok)console.log("SEND WORK!"),i.closest(".popup").classList.add("sent"),s.innerText="",s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error"),n.innerText="",n.previousElementSibling.classList.remove("error"),n.previousElementSibling.previousElementSibling.classList.remove("error"),i.reset();else{const r=await a.json();i.classList.contains("ru")?((c=r.errors)!=null&&c.name?(s.innerText=(l=r.errors)==null?void 0:l.name[0],s.previousElementSibling.classList.add("error"),s.previousElementSibling.previousElementSibling.classList.add("error")):(s.innerText="",s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error")),(o=r.errors)!=null&&o.phone?(n.innerText=(E=r.errors)==null?void 0:E.phone[0],n.previousElementSibling.classList.add("error"),n.previousElementSibling.previousElementSibling.classList.add("error")):(n.innerText="",n.previousElementSibling.classList.remove("error"),n.previousElementSibling.previousElementSibling.classList.remove("error"))):((S=r.errors)!=null&&S.name?(s.innerText=e.name[e.name.findIndex(d=>d==r.errors.name[0])+1],s.previousElementSibling.classList.add("error"),s.previousElementSibling.previousElementSibling.classList.add("error")):(s.innerText="",s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error")),(b=r.errors)!=null&&b.phone?(n.innerText=e.phone[e.phone.findIndex(d=>d==r.errors.phone[0])+1],n.previousElementSibling.classList.add("error"),n.previousElementSibling.previousElementSibling.classList.add("error")):(n.innerText="",n.previousElementSibling.classList.remove("error"),n.previousElementSibling.previousElementSibling.classList.remove("error")))}}catch(a){console.log(a)}})}window.matchMedia("(pointer: fine)").matches&&document.querySelectorAll(".header__contacts-contact").forEach(e=>{e.addEventListener("mouseenter",s=>{s.target.closest(".header__contacts-content").previousElementSibling.classList.add("active")}),e.addEventListener("mouseleave",s=>{s.target.closest(".header__contacts-content").previousElementSibling.classList.remove("active")})});const p=document.querySelector(".icon-menu"),v=document.querySelector(".burger"),g=document.querySelector(".burger-bg"),L=document.querySelector("body");p.addEventListener("click",function(){p.classList.toggle("open"),v.classList.toggle("open"),g.classList.toggle("open"),L.classList.toggle("lock")});window.onresize=()=>{p.classList.contains("open")&&p.classList.remove("open"),v.classList.contains("open")&&v.classList.remove("open"),g.classList.contains("open")&&g.classList.remove("open"),L.classList.contains("lock")&&L.classList.remove("lock")};
