function I(t){const e=document.getElementById(t),c=document.getElementById("body"),o=e.querySelector(".close-popup"),r=e.querySelector(".popup__button"),s=e.querySelector(".popup__loading"),i=e.querySelector(".preview-file")||!1,d=e.querySelectorAll("input");e.classList.add("open"),c.classList.add("lock"),o.addEventListener("click",function(l){u(e),l.preventDefault()}),r.addEventListener("click",function(){u(e)});function u(l){l.classList.remove("open"),c.classList.remove("lock"),e.classList.remove("sent"),d.forEach(a=>{a.value||(a.previousElementSibling.classList.remove("error"),a.classList.remove("error"),a.nextElementSibling.classList.remove("error"),a.nextElementSibling.innerHTML="")}),i&&(i.innerHTML="")}e.addEventListener("mousedown",function(l){!l.target.closest(".popup__body")&&!s.classList.contains("active")&&u(e)})}document.addEventListener("click",C);function C(t){!t.target.classList.contains(".ancor")&&q==!0&&E.addEventListener("click",M)}const D=document.querySelectorAll(".link-on-popup");D.forEach(t=>{t.addEventListener("click",e=>{I(e.target.dataset.popupId)})});const H=document.querySelectorAll(".language-btn");H.forEach(t=>{t.addEventListener("click",function(e){window.matchMedia("(pointer: coarse)").matches&&(t.classList.contains("active")||e.preventDefault(),t.classList.toggle("active"))})});const F=document.querySelectorAll("form"),m={name:['Не заполнено поле "ВАШЕ ИМЯ"',`Не заповнено поле "ВАШЕ ІМ'Я"`,'Поле "ИМЯ" должно иметь 2 или больше символов',`Поле "ІМ'Я" повинно мати 2 або більше символів`,'Поле "ИМЯ" должно иметь не больше 80 символов',`Поле "ІМ'Я" повинно мати не більше 80 символів`,'Поле "ИМЯ" не может содержать цифры',`Поле "ІМ'Я" не може містити цифри`],phone:["Не верный формат номера телефона","Невірний формат номеру телефона",'Не заполнено поле "Номер телефона"','Не заповнено поле "Номер телефону"'],text:['Вы ввели слишком много символов в поле "Сообщение"','Ви ввели занадто багато символів у полі "Повідомлення"']};F.forEach(t=>{t.addEventListener("submit",async e=>{var l,a,p,v,g,f,T,k,_,w,A;e.preventDefault();const c=t.querySelector('input[name="_token"]').value,o=t.querySelector(".error-name"),r=t.querySelector(".error-phone"),s=t.querySelector(".error-text"),i=t.closest(".popup__row").previousElementSibling.previousElementSibling;i.classList.add("active");const d=new FormData(t),u="https://eltop.artgas.pro/send-main-form";try{const S=await fetch(u,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":c},method:"post",body:d,credentials:"same-origin"});if(S.ok)i.classList.remove("active"),t.closest(".popup").classList.add("sent"),o.innerText="",o.classList.remove("error"),o.previousElementSibling.classList.remove("error"),o.previousElementSibling.previousElementSibling.classList.remove("error"),r.innerText="",r.classList.remove("error"),r.previousElementSibling.classList.remove("error"),r.previousElementSibling.previousElementSibling.classList.remove("error"),s&&(s.innerText="",s.classList.remove("error"),s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error")),t.reset();else{const n=await S.json();i.classList.remove("active"),t.classList.contains("ru")?((l=n.errors)!=null&&l.name?(o.innerText=(a=n.errors)==null?void 0:a.name[0],o.classList.add("error"),o.previousElementSibling.classList.add("error"),o.previousElementSibling.previousElementSibling.classList.add("error"),console.log(o.previousElementSibling)):(o.innerText="",o.classList.remove("error"),o.previousElementSibling.classList.remove("error"),o.previousElementSibling.previousElementSibling.classList.remove("error")),(p=n.errors)!=null&&p.phone?(r.innerText=(v=n.errors)==null?void 0:v.phone[0],r.classList.add("error"),r.previousElementSibling.classList.add("error"),r.previousElementSibling.previousElementSibling.classList.add("error")):(r.innerText="",r.classList.remove("error"),r.previousElementSibling.classList.remove("error"),r.previousElementSibling.previousElementSibling.classList.remove("error")),(g=n.errors)!=null&&g.text?(s.innerText=(f=n.errors)==null?void 0:f.text[0],s.classList.add("error"),s.previousElementSibling.classList.add("error"),s.previousElementSibling.previousElementSibling.classList.add("error")):!((T=n.errors)!=null&&T.text)&&s&&(s.innerText="",s.classList.remove("error"),s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error"))):((k=n.errors)!=null&&k.name?(o.innerText=m.name[m.name.findIndex(L=>L==n.errors.name[0])+1],o.classList.add("error"),o.previousElementSibling.classList.add("error"),o.previousElementSibling.previousElementSibling.classList.add("error")):(o.innerText="",o.classList.remove("error"),o.previousElementSibling.classList.remove("error"),o.previousElementSibling.previousElementSibling.classList.remove("error")),(_=n.errors)!=null&&_.phone?(r.innerText=m.phone[m.phone.findIndex(L=>L==n.errors.phone[0])+1],r.classList.add("error"),r.previousElementSibling.classList.add("error"),r.previousElementSibling.previousElementSibling.classList.add("error")):(r.innerText="",r.classList.remove("error"),r.previousElementSibling.classList.remove("error"),r.previousElementSibling.previousElementSibling.classList.remove("error")),(w=n.errors)!=null&&w.text?(s.innerText=m.text[m.text.findIndex(L=>L==n.errors.text[0])+1],s.classList.add("error"),s.previousElementSibling.classList.add("error"),s.previousElementSibling.previousElementSibling.classList.add("error")):!((A=n.errors)!=null&&A.text)&&s&&(s.innerText="",s.classList.remove("error"),s.previousElementSibling.classList.remove("error"),s.previousElementSibling.previousElementSibling.classList.remove("error")))}}catch(S){console.log(S)}})});window.matchMedia("(pointer: fine)").matches&&document.querySelectorAll(".header__contacts-contact").forEach(e=>{e.addEventListener("mouseenter",c=>{c.target.closest(".header__contacts-content").previousElementSibling.classList.add("active")}),e.addEventListener("mouseleave",c=>{c.target.closest(".header__contacts-content").previousElementSibling.classList.remove("active")})});const b=document.querySelector(".icon-menu"),h=document.querySelector(".burger"),y=document.querySelector(".burger-bg"),E=document.querySelector("body");b.addEventListener("click",function(){b.classList.toggle("open"),h.classList.toggle("open"),y.classList.toggle("open"),E.classList.toggle("lock")});function B(){b.classList.contains("open")&&b.classList.remove("open"),h.classList.contains("open")&&h.classList.remove("open"),y.classList.contains("open")&&y.classList.remove("open"),E.classList.contains("lock")&&E.classList.remove("lock")}window.onresize=()=>{B()};const R=document.querySelectorAll(".advantages__item h3"),U=document.querySelectorAll(".advantages__item p");R.forEach(t=>{t.addEventListener("mouseenter",e=>{e.target.previousElementSibling.classList.add("active")}),t.addEventListener("mouseleave",e=>{e.target.previousElementSibling.classList.remove("active")})});U.forEach(t=>{t.addEventListener("mouseenter",e=>{e.target.previousElementSibling.previousElementSibling.classList.add("active")}),t.addEventListener("mouseleave",e=>{e.target.previousElementSibling.previousElementSibling.classList.remove("active")})});let x=!1,q=!1;function M(){x=!0}const X=t=>{const e=document.querySelectorAll("[href='#advantages']");let c=.3;const o=document.querySelector(".header__top").offsetHeight;for(let r=0;r<e.length;r++)e[r].addEventListener("click",function(s){s.preventDefault(),B();let i=Math.round(document.documentElement.scrollTop||document.body.scrollTop),d=this.hash,u=document.querySelector(d).getBoundingClientRect().top-o,l=null;requestAnimationFrame(a),q=!0;function a(p){l===null&&(l=p);let v=p-l,g=u<0?Math.max(i-v/c,i+u):Math.min(i+v/c,i+u);(document.documentElement||document.body).scrollTo(0,g),g!=i+u&&!x?requestAnimationFrame(a):(E.removeEventListener("click",M),x=!1,q=!1)}})};X();
